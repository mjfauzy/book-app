{"version":3,"file":"BookService.js","names":["BookService","database","Book","findAll","newBook","create","id","updateBook","findOne","where","Number","bookToUpdate","update","theBook","bookToDelete","destroy","deletedBook"],"sources":["../../../api/server/services/BookService.js"],"sourcesContent":["import database from '../src/models';\r\n\r\nclass BookService {\r\n\tstatic async getAllBooks() {\r\n\t\ttry {\r\n\t\t\treturn await database.Book.findAll();\r\n\t\t} catch (error) {\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic async addBook(newBook) {\r\n\t\ttry {\r\n\t\t\treturn await database.Book.create(newBook);\r\n\t\t} catch (error) {\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic async updateBook(id, updateBook) {\r\n\t\ttry {\r\n\t\t\tconst bookToUpdate = await database.Book.findOne({\r\n\t\t\t\twhere: {id: Number(id)}\r\n\t\t\t});\r\n\r\n\t\t\tif (bookToUpdate) {\r\n\t\t\t\tawait database.Book.update(updateBook, {\r\n\t\t\t\t\twhere: {id: Number(id)}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn updateBook;\r\n\t\t\t}\r\n\r\n\t\t\treturn null;\r\n\t\t} catch (error) {\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic async getABook(id) {\r\n\t\ttry {\r\n\t\t\tconst theBook = await database.Book.findOne({\r\n\t\t\t\twhere: {id: Number(id)}\r\n\t\t\t});\r\n\r\n\t\t\treturn theBook;\r\n\t\t} catch (error) {\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic async deleteBook(id) {\r\n\t\ttry {\r\n\t\t\tconst bookToDelete = await database.Book.findOne({\r\n\t\t\t\twhere: {id: Number(id)}\r\n\t\t\t});\r\n\r\n\t\t\tif (bookToDelete) {\r\n\t\t\t\tconst deletedBook = await database.Book.destroy({\r\n\t\t\t\t\twhere: {id: Number(id)}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn deletedBook;\r\n\t\t\t}\r\n\r\n\t\t\treturn null;\r\n\t\t} catch (error) {\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default BookService;"],"mappings":";;;;;;;;;;;;;;;;;AAAA;;IAEMA,W;;;;;;;;uGACL;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEeC,kBAAA,CAASC,IAAT,CAAcC,OAAd,EAFf;;cAAA;gBAAA;;cAAA;gBAAA;gBAAA;gBAAA;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;mGAQA,kBAAqBC,OAArB;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEeH,kBAAA,CAASC,IAAT,CAAcG,MAAd,CAAqBD,OAArB,CAFf;;cAAA;gBAAA;;cAAA;gBAAA;gBAAA;gBAAA;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;uGAQA,kBAAwBE,EAAxB,EAA4BC,WAA5B;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAE6BN,kBAAA,CAASC,IAAT,CAAcM,OAAd,CAAsB;kBAChDC,KAAK,EAAE;oBAACH,EAAE,EAAEI,MAAM,CAACJ,EAAD;kBAAX;gBADyC,CAAtB,CAF7B;;cAAA;gBAEQK,YAFR;;gBAAA,KAMMA,YANN;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAOSV,kBAAA,CAASC,IAAT,CAAcU,MAAd,CAAqBL,WAArB,EAAiC;kBACtCE,KAAK,EAAE;oBAACH,EAAE,EAAEI,MAAM,CAACJ,EAAD;kBAAX;gBAD+B,CAAjC,CAPT;;cAAA;gBAAA,kCAWUC,WAXV;;cAAA;gBAAA,kCAcS,IAdT;;cAAA;gBAAA;gBAAA;gBAAA;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;oGAoBA,kBAAsBD,EAAtB;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEwBL,kBAAA,CAASC,IAAT,CAAcM,OAAd,CAAsB;kBAC3CC,KAAK,EAAE;oBAACH,EAAE,EAAEI,MAAM,CAACJ,EAAD;kBAAX;gBADoC,CAAtB,CAFxB;;cAAA;gBAEQO,OAFR;gBAAA,kCAMSA,OANT;;cAAA;gBAAA;gBAAA;gBAAA;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;sGAYA,kBAAwBP,EAAxB;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAE6BL,kBAAA,CAASC,IAAT,CAAcM,OAAd,CAAsB;kBAChDC,KAAK,EAAE;oBAACH,EAAE,EAAEI,MAAM,CAACJ,EAAD;kBAAX;gBADyC,CAAtB,CAF7B;;cAAA;gBAEQQ,YAFR;;gBAAA,KAMMA,YANN;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAO6Bb,kBAAA,CAASC,IAAT,CAAca,OAAd,CAAsB;kBAC/CN,KAAK,EAAE;oBAACH,EAAE,EAAEI,MAAM,CAACJ,EAAD;kBAAX;gBADwC,CAAtB,CAP7B;;cAAA;gBAOSU,WAPT;gBAAA,kCAWUA,WAXV;;cAAA;gBAAA,kCAcS,IAdT;;cAAA;gBAAA;gBAAA;gBAAA;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,C;;;;;;;;;;;;eAqBchB,W"}